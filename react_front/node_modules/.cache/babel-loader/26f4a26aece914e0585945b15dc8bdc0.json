{"ast":null,"code":"export var signup = function signup(user) {\n  return fetch(\"\".concat(process.env.REACT_APP_API_URL, \"/signup\"), {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(user)\n  }).then(function (response) {\n    return response.json();\n  }).catch(function (err) {\n    return console.log(err);\n  });\n};\nexport var signin = function signin(user) {\n  return fetch(\"\".concat(process.env.REACT_APP_API_URL, \"/signin\"), {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(user)\n  }).then(function (response) {\n    return response.json();\n  }).catch(function (err) {\n    return console.log(err);\n  });\n};\nexport var authenticate = function authenticate(jwt, next) {\n  if (typeof window !== 'undefined') {\n    localStorage.setItem('jwt', JSON.stringify(jwt));\n    next();\n  }\n};\nexport var setName = function setName(name, next) {\n  if (typeof window !== 'undefined') {\n    localStorage.setItem('username', JSON.stringify(name));\n    next();\n  }\n};\nexport var signout = function signout(next) {\n  if (typeof window !== 'undefined') localStorage.removeItem('jwt');\n  next();\n  return fetch(\"\".concat(process.env.REACT_APP_API_URL, \"/signout\"), {\n    method: 'GET'\n  }).then(function (response) {\n    console.log('signout', response);\n    return response.json();\n  }).catch(function (err) {\n    return console.log(err);\n  });\n};\nexport var isAuthenticated = function isAuthenticated() {\n  if (typeof window == 'undefined') {\n    return false;\n  }\n\n  if (localStorage.getItem('jwt')) {\n    return JSON.parse(localStorage.getItem('jwt'));\n  } else {\n    return false;\n  }\n};\nexport var forgotPassword = function forgotPassword(email) {\n  console.log('email: ', email);\n  return fetch(\"\".concat(process.env.REACT_APP_API_URL, \"/forgot-password/\"), {\n    method: 'PUT',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      email: email\n    })\n  }).then(function (response) {\n    console.log('forgot password response: ', response);\n    return response.json();\n  }).catch(function (err) {\n    return console.log(err);\n  });\n};\nexport var resetPassword = function resetPassword(resetInfo) {\n  return fetch(\"\".concat(process.env.REACT_APP_API_URL, \"/reset-password/\"), {\n    method: 'PUT',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(resetInfo)\n  }).then(function (response) {\n    console.log('forgot password response: ', response);\n    return response.json();\n  }).catch(function (err) {\n    return console.log(err);\n  });\n};\nexport var socialLogin = function socialLogin(user) {\n  return fetch(\"\".concat(process.env.REACT_APP_API_URL, \"/social-login/\"), {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    // credentials: \"include\", // works only in the same origin\n    body: JSON.stringify(user)\n  }).then(function (response) {\n    console.log('signin response: ', response);\n    return response.json();\n  }).catch(function (err) {\n    return console.log(err);\n  });\n};","map":{"version":3,"sources":["/Users/feli-v/Desktop/socialMedia/react_front/src/auth/index.js"],"names":["signup","user","fetch","process","env","REACT_APP_API_URL","method","headers","Accept","body","JSON","stringify","then","response","json","catch","err","console","log","signin","authenticate","jwt","next","window","localStorage","setItem","setName","name","signout","removeItem","isAuthenticated","getItem","parse","forgotPassword","email","resetPassword","resetInfo","socialLogin"],"mappings":"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","sourcesContent":["export const signup = user => {\n    return fetch(`${process.env.REACT_APP_API_URL}/signup`, {\n        method: 'POST',\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(user)\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const signin = user => {\n    return fetch(`${process.env.REACT_APP_API_URL}/signin`, {\n        method: 'POST',\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(user)\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const authenticate = (jwt, next) => {\n    if (typeof window !== 'undefined') {\n        localStorage.setItem('jwt', JSON.stringify(jwt));\n        next();\n    }\n};\n\nexport const setName = (name, next) => {\n    if (typeof window !== 'undefined') {\n        localStorage.setItem('username', JSON.stringify(name));\n        next();\n    }\n};\n\nexport const signout = next => {\n    if (typeof window !== 'undefined') localStorage.removeItem('jwt');\n    next();\n    return fetch(`${process.env.REACT_APP_API_URL}/signout`, {\n        method: 'GET'\n    })\n        .then(response => {\n            console.log('signout', response);\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const isAuthenticated = () => {\n    if (typeof window == 'undefined') {\n        return false;\n    }\n\n    if (localStorage.getItem('jwt')) {\n        return JSON.parse(localStorage.getItem('jwt'));\n    } else {\n        return false;\n    }\n};\n\nexport const forgotPassword = email => {\n    console.log('email: ', email);\n    return fetch(`${process.env.REACT_APP_API_URL}/forgot-password/`, {\n        method: 'PUT',\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ email })\n    })\n        .then(response => {\n            console.log('forgot password response: ', response);\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const resetPassword = resetInfo => {\n    return fetch(`${process.env.REACT_APP_API_URL}/reset-password/`, {\n        method: 'PUT',\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(resetInfo)\n    })\n        .then(response => {\n            console.log('forgot password response: ', response);\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const socialLogin = user => {\n    return fetch(`${process.env.REACT_APP_API_URL}/social-login/`, {\n        method: 'POST',\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json'\n        },\n        // credentials: \"include\", // works only in the same origin\n        body: JSON.stringify(user)\n    })\n        .then(response => {\n            console.log('signin response: ', response);\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n"]},"metadata":{},"sourceType":"module"}