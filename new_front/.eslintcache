[{"/Users/yao/GitHub/SocialMedia_Platform/new_front/src/index.js":"1","/Users/yao/GitHub/SocialMedia_Platform/new_front/src/App.js":"2","/Users/yao/GitHub/SocialMedia_Platform/new_front/src/MainRouter.js":"3","/Users/yao/GitHub/SocialMedia_Platform/new_front/src/mainPage/MenuTab.js":"4","/Users/yao/GitHub/SocialMedia_Platform/new_front/src/mainPage/ProfileComponent.js":"5","/Users/yao/GitHub/SocialMedia_Platform/new_front/src/mainPage/UsersComponent.js":"6","/Users/yao/GitHub/SocialMedia_Platform/new_front/src/mainPage/NewPostComponent.js":"7","/Users/yao/GitHub/SocialMedia_Platform/new_front/src/mainPage/PostsComponent.js":"8","/Users/yao/GitHub/SocialMedia_Platform/new_front/src/mainPage/LoginComponent.js":"9","/Users/yao/GitHub/SocialMedia_Platform/new_front/src/mainPage/MenuComponent.js":"10","/Users/yao/GitHub/SocialMedia_Platform/new_front/src/mainPage/History.js":"11","/Users/yao/GitHub/SocialMedia_Platform/new_front/src/mainPage/SinglePostComponent.js":"12","/Users/yao/GitHub/SocialMedia_Platform/new_front/src/helper/user.js":"13","/Users/yao/GitHub/SocialMedia_Platform/new_front/src/helper/posts.js":"14","/Users/yao/GitHub/SocialMedia_Platform/new_front/src/helper/index.js":"15","/Users/yao/GitHub/SocialMedia_Platform/new_front/src/mainPage/FriendsComponent.js":"16"},{"size":411,"mtime":1612161541561,"results":"17","hashOfConfig":"18"},{"size":255,"mtime":1612161541479,"results":"19","hashOfConfig":"18"},{"size":977,"mtime":1613366461231,"results":"20","hashOfConfig":"18"},{"size":450,"mtime":1612161541729,"results":"21","hashOfConfig":"18"},{"size":2978,"mtime":1612161541818,"results":"22","hashOfConfig":"18"},{"size":1463,"mtime":1612161541874,"results":"23","hashOfConfig":"18"},{"size":3851,"mtime":1612161541762,"results":"24","hashOfConfig":"18"},{"size":755,"mtime":1612161541791,"results":"25","hashOfConfig":"18"},{"size":1862,"mtime":1612161541641,"results":"26","hashOfConfig":"18"},{"size":2234,"mtime":1612161541682,"results":"27","hashOfConfig":"18"},{"size":87,"mtime":1612161541601,"results":"28","hashOfConfig":"18"},{"size":2865,"mtime":1612161541846,"results":"29","hashOfConfig":"18"},{"size":3281,"mtime":1613425380332,"results":"30","hashOfConfig":"18"},{"size":4466,"mtime":1612161541522,"results":"31","hashOfConfig":"18"},{"size":3297,"mtime":1612161541522,"results":"32","hashOfConfig":"18"},{"size":2978,"mtime":1613425380332,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"cz9gs8",{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"36"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"36"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"36"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56","usedDeprecatedRules":"36"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"36"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73","usedDeprecatedRules":"36"},"/Users/yao/GitHub/SocialMedia_Platform/new_front/src/index.js",[],["74","75"],"/Users/yao/GitHub/SocialMedia_Platform/new_front/src/App.js",[],"/Users/yao/GitHub/SocialMedia_Platform/new_front/src/MainRouter.js",[],"/Users/yao/GitHub/SocialMedia_Platform/new_front/src/mainPage/MenuTab.js",["76","77","78"],"import React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { signout, isAuthenticated } from '../helper';\nimport LoginComponent from './LoginComponent';\nimport MenuComponent from './MenuComponent';\n\nclass MenuTab extends React.Component {\n    render() {\n        return (\n            <div>\n                {isAuthenticated()? <MenuComponent/>:<LoginComponent/>}\n            </div>\n        )\n    }\n}\n\nexport default MenuTab;","/Users/yao/GitHub/SocialMedia_Platform/new_front/src/mainPage/ProfileComponent.js",["79"],"import React from 'react';\nimport { isAuthenticated, signout } from \"../helper\";\nimport {withRouter } from 'react-router-dom';\nimport { read } from '../helper/user';\nimport DefaultProfile from \"../images/avatar.jpg\";\nimport { listByUser } from '../helper/posts';\nimport { Card, Button } from 'antd';\nimport history from './History';\n\nclass ProfileComponent extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n          user: { following: [], followers: [] },\n          redirectToSignin: false,\n          following: false,\n          error: \"\",\n          posts: []\n        };\n    }\n    checkFollow = user => {\n        const jwt = isAuthenticated();\n        const match = user.followers.find(follower => {\n          // one id has many other ids (followers) and vice versa\n          return follower._id === jwt.user._id;\n        });\n        return match;\n      };\n    \n      clickFollowButton = callApi => {\n        const userId = isAuthenticated().user._id;\n        const token = isAuthenticated().token;\n    \n        callApi(userId, token, this.state.user._id).then(data => {\n          if (data.error) {\n            this.setState({ error: data.error });\n          } else {\n            this.setState({ user: data, following: !this.state.following });\n          }\n        });\n      };\n    \n      init = userId => {\n        const token = isAuthenticated().token;\n        read(userId, token).then(data => {\n          if (data.error) {\n            this.setState({ redirectToSignin: true });\n          } else {\n            let following = this.checkFollow(data);\n            this.setState({ user: data, following });\n            this.loadPosts(data._id);\n          }\n        });\n      };\n    \n      loadPosts = userId => {\n        const token = isAuthenticated().token;\n        listByUser(userId, token).then(data => {\n          if (data.error) {\n            console.log(data.error);\n          } else {\n            this.setState({ posts: data });\n          }\n        });\n      };\n    \n      componentDidMount() {\n        const userId = isAuthenticated().user._id;\n        this.init(userId);\n      }\n    \n      componentWillReceiveProps(props) {\n        const userId = isAuthenticated().user._id;\n        this.init(userId);\n      }\n    \n    render(){\n        const {user} = this.state;\n        console.log(user)\n        return (\n            <div className=\"site-card-border-less-wrapper\" style={{marginLeft:50, marginTop:100}}>\n                <Card title={user.name} bordered={false} style={{ width: 800 }}>\n                    <p>Email: {user.email}</p>\n                    <p>{`Joined ${new Date(user.created).toDateString()}`}</p>\n                    <p>Following: {user.following.length}</p>\n                    <p>Follower: {user.followers.length}</p>\n                </Card>\n                <Button onClick={() => signout(()=>history.push('/'))}>Sign out</Button>\n            </div>\n        )\n    }\n}\n\nexport default withRouter(ProfileComponent);","/Users/yao/GitHub/SocialMedia_Platform/new_front/src/mainPage/UsersComponent.js",[],"/Users/yao/GitHub/SocialMedia_Platform/new_front/src/mainPage/NewPostComponent.js",[],"/Users/yao/GitHub/SocialMedia_Platform/new_front/src/mainPage/PostsComponent.js",["80"],"import React, {createElement} from 'react';\nimport SinglePostComponent from './SinglePostComponent';\nimport {list} from '../helper/posts';\n\nclass PostsComponent extends React.Component {\n    constructor() {\n        super();\n        this.state={\n            posts: [],\n        }\n    }\n    componentDidMount() {\n        list(1).then(data => {\n            if (data.error) {\n                console.log(data.error);\n            } else {\n                this.setState({ posts: data });\n            }\n        });\n    }\n    render(){\n        return (\n            <div style={{marginLeft:50, marginTop:30}}>\n                {this.state.posts.map((post)=><SinglePostComponent post={post}/>)}\n            </div>    \n        )\n    }\n}\n\nexport default PostsComponent;","/Users/yao/GitHub/SocialMedia_Platform/new_front/src/mainPage/LoginComponent.js",["81","82"],"import React from 'react';\nimport { Form, Input, Button, Checkbox} from 'antd';\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\nimport {signin, authenticate} from '../helper'\nimport './style.css';\n\nclass LoginComponent extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            email:\"\",\n            password:\"\"\n        }\n    }\n    onFinish = (values) => {\n        this.setState({\n            email: values.email,\n            password: values.password\n        })\n        const { email, password } = this.state;\n        const user = {email, password};\n        signin(user).then(data => {\n            authenticate(data, () => {\n                \n            });\n        })\n    };\n    render() {\n        return (\n            <Form name=\"normal_login\" className=\"login-form\" onFinish={this.onFinish} style={{marginTop:\"200px\", marginLeft:\"800px\"}}>\n                <Form.Item name=\"email\" rules={[{required: true,message: 'Please input your Email!',},]}>\n                    <Input prefix={<UserOutlined className=\"site-form-item-icon\"/>} placeholder=\"Email\"/>\n                </Form.Item>\n                <Form.Item name=\"password\" rules={[{required: true,message: 'Please input your Password!',},]}>\n                    <Input prefix={<LockOutlined className=\"site-form-item-icon\" />} type=\"password\" placeholder=\"Password\"/>\n                </Form.Item>\n                <Form.Item>\n                    <a className=\"login-form-forgot\" href=\"\">Forgot password</a>\n                </Form.Item>\n                <Form.Item>\n                    <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">Log in</Button>\n                    <Button type=\"primary\" className=\"login-form-button\">Register</Button>\n                </Form.Item>\n    </Form>\n  );\n}\n}\n\nexport default LoginComponent;","/Users/yao/GitHub/SocialMedia_Platform/new_front/src/mainPage/MenuComponent.js",[],"/Users/yao/GitHub/SocialMedia_Platform/new_front/src/mainPage/History.js",[],"/Users/yao/GitHub/SocialMedia_Platform/new_front/src/mainPage/SinglePostComponent.js",["83","84","85"],"import React, {createElement} from 'react';\nimport { Comment, Tooltip, Avatar } from 'antd';\nimport { LikeOutlined, LikeFilled } from '@ant-design/icons';\nimport moment from 'moment';\nimport {isAuthenticated} from '../helper';\nimport {singlePost, remove, like, unlike} from '../helper/posts';\n\nclass SinglePostComponent extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            like: this.checkLike(this.props.post.likes),\n            likes: this.props.post.likes.length,\n            comments: [],\n        }\n    }\n    updateComments = comments => {\n        this.setState({ comments });\n    };\n    likeToggle = () => {\n        let callApi = this.state.like ? unlike : like;\n        const userId = isAuthenticated().user._id;\n        const postId = this.props.post._id;\n        const token = isAuthenticated().token;\n\n        callApi(userId, token, postId).then(data => {\n            if (data.error) {\n                console.log(data.error);\n            } else {\n                this.setState({\n                    like: !this.state.like,\n                    likes: data.likes.length\n                });\n            }\n        });\n    };\n    deletePost = () => {\n        const token = isAuthenticated().token;\n        remove(this.props.post._id, token);\n    };\n    checkLike = (likes) => {\n        const userId = isAuthenticated().user._id;\n        likes.map((id)=>{\n            if (id === userId) {\n                return true;\n            }\n        })\n        return false;\n    }\n    render(){\n        const {post} = this.props;\n        const actions = [\n            <Tooltip key=\"comment-basic-like\" title=\"Like\">\n              <span onClick={this.likeToggle}>\n                {createElement(this.state.like ? LikeFilled : LikeOutlined)}\n                <span className=\"comment-action\">{this.state.likes}</span>\n              </span>\n            </Tooltip>,\n            <span key=\"comment-basic-reply-to\">Reply to</span>,\n            isAuthenticated().user._id===post.postedBy._id?<span onClick={this.deletePost} key=\"comment-basic-delete\">delete</span>:null,\n          ];\n        return (\n           <Comment actions={actions} author={<a>{post.postedBy.name}</a>} \n                avatar={<Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" alt=\"Han Solo\"/>}\n                content={\n                    <div>\n                        <h4>{post.title}</h4>\n                        <p>{post.body}</p>\n                        <img src={`${process.env.REACT_APP_API_URL}/post/photo/${post._id}`} alt={post.title} />\n                    </div>\n                }\n                datetime={<Tooltip title={moment(post.created).format('YYYY-MM-DD HH:mm:ss')}><span>{moment(post.created).fromNow()}</span></Tooltip>}\n            />       \n        )\n    }\n}\n\nexport default SinglePostComponent;","/Users/yao/GitHub/SocialMedia_Platform/new_front/src/helper/user.js",[],"/Users/yao/GitHub/SocialMedia_Platform/new_front/src/helper/posts.js",[],"/Users/yao/GitHub/SocialMedia_Platform/new_front/src/helper/index.js",[],["86","87"],"/Users/yao/GitHub/SocialMedia_Platform/new_front/src/mainPage/FriendsComponent.js",["88"],"import React from 'react';\nimport { isAuthenticated, signout } from \"../helper\";\nimport {withRouter } from 'react-router-dom';\nimport { read } from '../helper/user';\nimport DefaultProfile from \"../images/avatar.jpg\";\nimport { listByUser } from '../helper/posts';\nimport { Card, Button } from 'antd';\nimport history from './History';\n\nclass FriendsComponent extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n          user: { following: [], followers: [] },\n          redirectToSignin: false,\n          following: false,\n          error: \"\",\n          posts: []\n        };\n    }\n    checkFollow = user => {\n        const jwt = isAuthenticated();\n        const match = user.followers.find(follower => {\n          // one id has many other ids (followers) and vice versa\n          return follower._id === jwt.user._id;\n        });\n        return match;\n      };\n    \n      clickFollowButton = callApi => {\n        const userId = isAuthenticated().user._id;\n        const token = isAuthenticated().token;\n    \n        callApi(userId, token, this.state.user._id).then(data => {\n          if (data.error) {\n            this.setState({ error: data.error });\n          } else {\n            this.setState({ user: data, following: !this.state.following });\n          }\n        });\n      };\n    \n      init = userId => {\n        const token = isAuthenticated().token;\n        read(userId, token).then(data => {\n          if (data.error) {\n            this.setState({ redirectToSignin: true });\n          } else {\n            let following = this.checkFollow(data);\n            this.setState({ user: data, following });\n            this.loadPosts(data._id);\n          }\n        });\n      };\n    \n      loadPosts = userId => {\n        const token = isAuthenticated().token;\n        listByUser(userId, token).then(data => {\n          if (data.error) {\n            console.log(data.error);\n          } else {\n            this.setState({ posts: data });\n          }\n        });\n      };\n    \n      componentDidMount() {\n        const userId = isAuthenticated().user._id;\n        this.init(userId);\n      }\n    \n      componentWillReceiveProps(props) {\n        const userId = isAuthenticated().user._id;\n        this.init(userId);\n      }\n    \n    render(){\n        const {user} = this.state;\n        console.log(user)\n        return (\n            <div className=\"site-card-border-less-wrapper\" style={{marginLeft:50, marginTop:100}}>\n                <Card title={user.name} bordered={false} style={{ width: 800 }}>\n                    <p>Email: {user.email}</p>\n                    <p>{`Joined ${new Date(user.created).toDateString()}`}</p>\n                    <p>Following: {user.following.length}</p>\n                    <p>Follower: {user.followers.length}</p>\n                </Card>\n                <Button onClick={() => signout(()=>history.push('/'))}>Sign out</Button>\n            </div>\n        )\n    }\n}\n\nexport default withRouter(FriendsComponent);",{"ruleId":"89","replacedBy":"90"},{"ruleId":"91","replacedBy":"92"},{"ruleId":"93","severity":1,"message":"94","line":2,"column":10,"nodeType":"95","messageId":"96","endLine":2,"endColumn":14},{"ruleId":"93","severity":1,"message":"97","line":2,"column":16,"nodeType":"95","messageId":"96","endLine":2,"endColumn":26},{"ruleId":"93","severity":1,"message":"98","line":3,"column":10,"nodeType":"95","messageId":"96","endLine":3,"endColumn":17},{"ruleId":"93","severity":1,"message":"99","line":5,"column":8,"nodeType":"95","messageId":"96","endLine":5,"endColumn":22},{"ruleId":"93","severity":1,"message":"100","line":1,"column":16,"nodeType":"95","messageId":"96","endLine":1,"endColumn":29},{"ruleId":"93","severity":1,"message":"101","line":2,"column":31,"nodeType":"95","messageId":"96","endLine":2,"endColumn":39},{"ruleId":"102","severity":1,"message":"103","line":38,"column":21,"nodeType":"104","endLine":38,"endColumn":62},{"ruleId":"93","severity":1,"message":"105","line":6,"column":9,"nodeType":"95","messageId":"96","endLine":6,"endColumn":19},{"ruleId":"106","severity":1,"message":"107","line":43,"column":23,"nodeType":"108","messageId":"109","endLine":43,"endColumn":25},{"ruleId":"102","severity":1,"message":"110","line":63,"column":47,"nodeType":"104","endLine":63,"endColumn":50},{"ruleId":"89","replacedBy":"111"},{"ruleId":"91","replacedBy":"112"},{"ruleId":"93","severity":1,"message":"99","line":5,"column":8,"nodeType":"95","messageId":"96","endLine":5,"endColumn":22},"no-native-reassign",["113"],"no-negated-in-lhs",["114"],"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","'withRouter' is defined but never used.","'signout' is defined but never used.","'DefaultProfile' is defined but never used.","'createElement' is defined but never used.","'Checkbox' is defined but never used.","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","'singlePost' is defined but never used.","array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md",["113"],["114"],"no-global-assign","no-unsafe-negation"]